package leetcode;

import java.util.ArrayList;

public class Restore_IP_Addresses {
public ArrayList<String> restoreIpAddresses(String A) {
        ArrayList<String> res = new ArrayList<>();
        helper(A, 4, res, "");
        return res;
    }
    
    private void helper(String s, int expectedSize, ArrayList<String> res, String curr) {
        if (expectedSize == 0 && s.isEmpty()) {
            res.add(curr);
            return;
        }
        for (int end = 1; end <= 3; end++) {
            if (s.length() >= end) {
                 int val = Integer.parseInt(s.substring(0,end));
                 if (val >=0 && val < 256 && String.valueOf(val).length() == end) {
                    helper(s.substring(end), expectedSize-1, res, 
                    !curr.isEmpty() ? curr + '.' + s.substring(0,end) : s.substring(0,end));
                 }
            }
        
        }
    }
}
