//done
/*
 * 
 */

package leetcode;

public class Range_Sum_Query_2D_Mutable {
	
	 public int[][] colSum;
	    public int[][] matrix;
	    public Range_Sum_Query_2D_Mutable(int[][] matrix) {
	        this.matrix = matrix;
	        if (matrix == null || matrix.length == 0) {
	            return;
	        }
	        if (matrix[0] == null || matrix[0].length == 0) {
	            return;
	        }
	        int m = matrix.length;
	        int n = matrix[0].length;
	        colSum = new int[m + 1][n];
	        for (int i = 1; i <= m; i++) {
	            for (int j = 0; j < n; j++) {
	                colSum[i][j] = colSum[i - 1][j] + matrix[i - 1][j];
	            }
	        }
	    }
	    
	    public void update(int row, int col, int val) {
	        for (int i = row + 1; i < colSum.length; i++) {
	            colSum[i][col] = colSum[i][col] - matrix[row][col] + val;
	        }
	        matrix[row][col] = val;
	    }
	    
	    public int sumRegion(int row1, int col1, int row2, int col2) {
	        int sum = 0;
	        for (int j = col1; j <= col2; j++) {
	            sum += colSum[row2 + 1][j] - colSum[row1][j]; 
	        }
	        return sum;
	    }

}
